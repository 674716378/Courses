---
title: 第七章 社会网络分析
author:
 - 授课教师：吴翔 \newline
 - 邮箱：wuhsiang@hust.edu.cn
date: "2018年10月25日"
linestretch: 1.25
fontsize: 12
bibliography: ref.bib
header-includes:
  - \usepackage{ctex}
output:
  beamer_presentation:
    theme: "CambridgeUS"
    colortheme: "beaver"
    latex_engine: xelatex
    toc: true
---

```{r setup, include = FALSE}

knitr::opts_chunk$set(echo = FALSE, warning = FALSE)

```


# SNA概述

## 课程存储地址

- 课程存储地址： [https://github.com/wuhsiang/Courses](https://github.com/wuhsiang/Courses)
- 资源：课件、案例数据及代码

![qr](../../QR.png){width=48%}

## 参考教材

- 斯坦利·沃瑟曼, 凯瑟琳·福斯特. 社会网络分析:方法与应用. 北京：中国人民大学出版社. 2012. (注：对应英文版于1996年出版)
- 托马斯. 社会网络与健康:模型、方法与应用. 北京:人民卫生出版社. 2016.
- 埃里克·克拉泽克, 加博尔·乔尔迪. 网络数据的统计分析：R语言实践. 西安:西安交通大学出版社. 2016.

## 本节知识点

- SNA基本概念
- 社会网络的符号表示
- 基本社会网络结构

## SNA与健康



## 7.1.1 基本概念

社会网络分析（social network analysis, SNA）

- 社会网络：**社会行动者**（人、组织等），及其之间关系的集合
- 社会关系：社会行动者之间的关系
- 分析逻辑：行动者之间的关系是主要的，行动者的属性是次要的

## 基本特征

SNA的基本特征[@freeman2004]：

- 考虑整个网络结构
- 论证网络结构如何影响个体行为
- 运用图表展示
- 运用数学的形式

## 7.1.2 社会网络数据

社会网络数据包括：

- 行动者集合
- 社会关系
- 行动者属性

社会网络数据的**符号表示**包括：

- 图论
- 社会计量

## 图论符号表示法

图$G = (N, L)$由节点的集合$N$和线的集合$L$所定义。

| 社会网络          | 图             |
|:-------------:|:-------------:|
| 行动者           | 节点            |
| 社会关系          | 线             |



Table: 社会网络与图论的对应关系

## 图论符号表示法（续）

- 行动者集合$G$ = {王重阳，林朝英，黄药师，欧阳锋，洪七公，段智兴，周伯通，郭靖，杨过}
- 社会关系集合$L$ = {<王重阳，周伯通>，<王重阳，林朝英>，<黄药师，郭靖>，<洪七公，郭靖>，<周伯通，郭靖>，<欧阳锋，杨过>}

```{r, fig.align='center', fig.height=4.5}

# use igraph package
suppressMessages(library(igraph))
rm(list = ls())
# set random seeds
set.seed(123)
# create graph g from literal
g <- graph_from_literal(WCY-ZBT, WCY-LCY, HYS-GJ, HQG-GJ, ZBT-GJ, OYF-YG, DZX)
# plot the graph
plot(g, layout = layout.circle)

```

## 社会计量符号表示

- **社会计量**（sociometric）：由人以及被度量的人与人之间的情感关系组成的社会网络数据集合
- **社会关系矩阵**（sociomatrix）：邻接矩阵，对应于量化行动者之间的社会关系图。

## 社会计量符号表示（续）

```{r, results='asis'}

suppressMessages(library(pander))
suppressMessages(library(magrittr))
g %>% as_adjacency_matrix(sparse = F) %>% pandoc.table()

```

## 其它情形

- 有值关系
- 有向关系
- 多重关系
- 网络动态性



## 有向图/有值图



## 多重关系

```{r}

par(mfrow = c(1, 2))
# create graph h1 from literal
h1 <- graph_from_literal(WCY-ZBT, LCY, HYS, HQG-GJ, OYF, YG, DZX)
# plot the graph
plot(h1, layout = layout.circle)
# create graph h2 from literal
h2 <- graph_from_literal(WCY-LCY, HYS-GJ, HQG, ZBT-GJ, OYF-YG, DZX)
# plot the graph
plot(h2, layout = layout.circle)


```



## 网络动态性


```{r}

par(mfrow = c(1, 2))

g %>% subgraph(c(1:4, 6:7, 9)) %>% plot(layout = layout.circle)


g %>% subgraph(c(2,4:9)) %>% plot(layout = layout.circle)


```

## 7.1.3 主要网络结构

参照网络：

- 随机网络
- 规则网络

现实网络：

- 小世界网络
- 无标度网络（优先连接网络）


## 随机网络

```{r}

erdos.renyi.game(20, 0.05) %>% plot(layout = layout.circle)

```


## 规则网络

```{r}

make_lattice(length = 2, dim = 3, circular = T) %>% plot()

```


## 小世界网络

- 基本问题：社会网络中两个节点之间传递信息将需要几个步骤？“六度空间”理论的发现
- 定义：
- 特点：


## 无标度网络

#  SNA主要分析角度

## 本节知识点

- 中心性
- 群组
- 位置
- 网络层面

## 中心性度量

- 度
- 接近性
- 中间性

## 度


```{r}



```

# 案例

## 医学领域案例：文献分析

- 李杰. CiteSpace中文版指南. http://cluster.ischool.drexel.edu/~cchen/citespace/manual/CiteSpaceChinese.pdf[EB/OL][2018-09-05].2015.


## 医学领域案例：行为分析


## 参考文献
