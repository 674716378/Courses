---
title: "案例：SNA在医学中的应用"
author: "阿如汗，吴翔"
date: "`r Sys.Date()`"
documentclass: ctexart
output:
  html_document
---

```{r setup, include = FALSE}

knitr::opts_chunk$set(echo = TRUE)

```

## 概述

我们通过案例来阐述如何使用社会网络分析研究健康管理。所有分析过程均通过R语言实现。

本案例源自以下论文和数据集，我们非常感谢作者公开数据集。若非如此，我们无法在本次教学中给出这个合适的案例。

- Rabbani A, Biju NR, Rizwan A, Sarker M (2018) Social network analysis of psychological morbidity in an urban slum of Bangladesh: a cross-sectional study based on a community census. BMJ Open 8(7): e020180. https://doi.org/10.1136/bmjopen-2017-020180
- Rabbani A, Biju NR, Rizwan A, Sarker M (2018) Data from: Social network analysis of psychological morbidity in an urban slum of Bangladesh: a cross-sectional study based on a community census. Dryad Digital Repository. https://doi.org/10.5061/dryad.320bv7b

[这个网页](https://datadryad.org/resource/doi:10.5061/dryad.320bv7b)提供了数据的详细描述和以上论文的摘要，首先请下载[.dta格式的STATA数据集](https://datadryad.org/bitstream/handle/10255/dryad.179233/bmjopen-2017-020180.zip?sequence=1)，并阅读[变量的含义](https://datadryad.org/bitstream/handle/10255/dryad.179233/README.txt?sequence=2)

数据集源自于对孟加拉国Dhaka市824名年轻都市青年的调查，采用GHQ-12测量了受试者的心理健康状况，并收集了受试者的社会网络关系数据。据此，可以估计社会关系在缓解抑郁和焦虑以及促进人群的心理健康方面的作用发挥着重要作用。

我们首先在R语言中读取`.dta`格式的Stata数据文件，并将其存储为`.RData`格式的R数据文件。

```{r}

# clean the work directory
rm(list = ls())
# read stata data file
library(readstata13)
dat <- read.dta13("dhaka.dta")
# save the dataset
save(dat, file = "dhaka.RData")

```

可以看到，数据集包含`r nrow(dat)`个样本和`r ncol(dat)`个变量。

## 从既定社会网络中生成变量


## 社会网络对健康的作用


```{r}

rm(list = ls())
# load the dataset
load("dhaka.RData")

fit <- lm(zghq ~ sallc + sbetc + seigc + spres, data = dat)
summary(fit)

```
